//
// Layout
// ==============================



// Containers
// ------------------------------

.container-xs,
.container-sm,
.container-md {
	.container-fixed();
}
@media (min-width: @screen-sm-min) {
	.container-xs { width: 600px; }
	.container-sm { width: @screen-sm-min - @grid-gutter-width; }
	.container-md { max-width: @screen-md-min - @grid-gutter-width; }
}


// Navbar
// ------------------------------

@navbar-border-top-width: 4px;
.navbar {
	background-color: @navbar-default-bg;
	font-weight: 500;
	// height: @navbar-height;
	line-height: @navbar-height + 10;
	margin: 0;
}
.navbar-nav {
	// font-size: 0;
	list-style: none;
	margin-bottom: 0;
	padding-left: 0;

	> li {
		// font-size: 16px;
		display: inline-block;
		
		&.active > a {
			position: relative;

			&:after {
				border: .5em solid transparent;
				border-bottom-color: @body-bg;
				bottom: 0;
				content: " ";
				left: 50%;
				margin-left: -.5em;
				position: absolute;
			}
		}
	}
	> li > a {
		.transition( all 200ms ease );
		// box-shadow: 0 0 0 transparent;
		color: white;
		display: block;
		outline: none;
		padding-left: 20px;
		padding-right: 20px;

		&:hover {
			box-shadow: inset 0 4px 0 @orange;
		}
	}
	.navbar-logo {
		border-top: 0px solid @brand-primary;
		display: block;
		margin-right: 2em;
		padding: 0;
		z-index: 1;

		img {
			max-width: 100%;
		}
	}
}
.navbar-default .navbar-toggle {
	background-color: @navbar-default-toggle-bg;
}

@media (max-width: @screen-xs-max) {
	.navbar-logo {
		width: 90px;
	}
	.navbar {
		.scrollable(horizontal);
		line-height: @navbar-height;
	}
	.site-nav {
		position: relative;

		.mask {
			.square(@navbar-height);
			content: "";
			display: block;
			line-height: @navbar-height;
			pointer-events: none;
			position: absolute;
			text-align: center;
			top: 0;
		}
		.mask-left {
			#gradient .horizontal( @brown, fade(@brown, 0) );
			left: 0;
		}
		.mask-right {
			#gradient .horizontal( fade(@brown, 0), @brown );
			right: 0;
		}
	}
}

// draw attention to the mask on the homepage so people don't miss the other nav pages
.sitesection-home .site-nav {
	.mask-right:after {
		.animation( pulse 1s linear infinite );
		.square(0);
		.translate3d(0,0,0);
		border: .5em solid transparent;
		border-left-color: @orange;
		content: " ";
		display: inline-block;
	}
}



// Body
// ------------------------------

.site-body {}



// Footer
// ------------------------------

.site-footer {
	// border-top: 8px solid white;
	background-color: @brown;
	color: mix(@brown, white, 40%);
	font-size: @font-size-small;
	font-weight: 300;
	padding: 3em 0;
	margin-top: 60px;
	position: relative;

	ul, ol {
		.list-unstyled();
	}
	p {
		margin-bottom: 5px;
	}
	a {
		color: mix(@brown, white, 20%);
	}
	
}
.footer-heading {
	color: mix(@brown, white, 60%);
}
.footer-copyright {
	border-top: 1px solid mix(@brown, white, 80%);
	margin-top: 2em;
	padding-top: 2em;
	text-align: center;
}




// Links
// ------------------------------

.links-list {
	h3 {
		margin: 5px 0 0 0;
	}
	
	h4 a { color: @text-color; }
	.byline { margin: 0 0 0 0; }
	
	.link {
		font-size: @font-size-base + 2;
		margin: 0;
	}

	.tags-list {
		margin: 10px 0 0;
		a {
			padding: 2px 10px;
			font-size: @font-size-base - 2;
		}
	}
	
	.description {
		margin: 10px 0;
	}
}

.tags-list {
	position: relative;
	overflow: hidden;
	li {
		float: left;
		margin-right: 5px;
		margin-bottom: 5px;
	}
	a {
		padding: 2px 10px;
		display: inline-block;
		border-radius: @border-radius-base;
		font-size: @font-size-base;
		background-color: @gray-light;
		color: white;
		
		&:hover {
			text-decoration: none;
			background-color: @link-color;
		}
		&.active {
			background-color: @link-color;
		}
	}
}

.links-list + .links-list {
	margin-top: 30px;
}




// Forms
// ------------------------------


// twbs right aligned labels looks weird
.form-horizontal .control-label {
	text-align: left;
}

// labels for checkboxes should look like content
.checkbox { font-weight: inherit; }

// allow gap between collapsed fields on small devices
@media (max-width: @screen-xs-max) {
	.form-group .row > [class^='col-'] {
		margin-bottom: 10px;
	}
}

// assume textarea's have adequate width
// allow vertical resizing
textarea {
	.resizable(vertical);
}



// Page
// ------------------------------


// intro

.page-intro {
	padding: @page-padding 0;
	text-align: center;
	
	.buttons > .btn {
		margin-right: 10px;
	}
	.lead {
		display: inline-block;
		max-width: @screen-sm-min - @grid-gutter-width;
	}
}


// content

.page-content {
	.tile-base();
	padding: @page-padding / 2;
	position: relative;
	z-index: 2;
	
	@media (min-width: @screen-sm-min) {
		padding: @page-padding;
	}
}
	



// Misc
// ------------------------------

.back-bar {
	padding-bottom: 10px;
	padding-top: 10px;
	
	p {
		margin-bottom: 8px;
	}
}
.thumbnail {
	background-color: white;
}




// organisers
.about-organisers {
	.organiser {
		.img-wrapper {
			.square( 40px );
			overflow: hidden;
			float: left;
			margin-right: 9px;
			
			img {
				.img-responsive();
			}
		}
	}
	.organiser__name {
		margin: 0;
	} 
	.organiser__twitter {
		font-size: @font-size-base;
		margin-bottom: 9px;
	} 
}





// share buttons
.share-buttons {
	margin: 20px 0;
	min-height: 20px;
	
	@media (min-width: @screen-sm-min) {
		&.right {
			float: right;
		
			.share-button {
				margin-left: 10px;
				margin-right: 0;
			}
		}
	}
}	

.share-button {
	display: inline-block;
	margin-right: 10px;
	vertical-align: middle;
	width: 76px;
}



// organisations
.org__heading {
	margin-top: 0;
	
	a {
		color: @headings-color;
	}
}
.org__location {
	.text-muted();
}
.org__location-icon {
	float: left;
	font-size: 42px;
	margin-right: 10px;
	// margin-top: 2px;
}
.org__location-address {
	display: table;
}
.org__logo {
	display: block;
	margin-bottom: 20px;
}
@media (min-width: @screen-sm-min) {
	.org__logo img {
		.img-responsive();
	}
}



// Animation
// ------------------------------

@-moz-keyframes pulse {
  0% { -moz-transform: scale(1); }
  50% { -moz-transform: scale(1.4); }
  100% { -moz-transform: scale(1); }
}
@-webkit-keyframes pulse {
  0% { -webkit-transform: scale(1); }
  50% { -webkit-transform: scale(1.4); }
  100% { -webkit-transform: scale(1); }
}
@-o-keyframes pulse {
  0% { -o-transform: scale(1); }
  50% { -o-transform: scale(1.4); }
  100% { -o-transform: scale(1); }
}
@-ms-keyframes pulse {
  0% { -ms-transform: scale(1); }
  50% { -ms-transform: scale(1.4); }
  100% { -ms-transform: scale(1); }
}
@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.4); }
  100% { transform: scale(1); }
}

@-moz-keyframes spin {
  0% { -moz-transform: rotate(0deg); }
  100% { -moz-transform: rotate(359deg); }
}
@-webkit-keyframes spin {
  0% { -webkit-transform: rotate(0deg); }
  100% { -webkit-transform: rotate(359deg); }
}
@-o-keyframes spin {
  0% { -o-transform: rotate(0deg); }
  100% { -o-transform: rotate(359deg); }
}
@-ms-keyframes spin {
  0% { -ms-transform: rotate(0deg); }
  100% { -ms-transform: rotate(359deg); }
}
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(359deg); }
}
