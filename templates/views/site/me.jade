extends ../../layouts/default

block content
	.section.section-profile-form
		.container
			form(method='post', action='private_info').profile-form
				h4.profile-form__heading Your Profile
				.form-group
					.row
						.col-sm-6: input(type='text', name='name.first' value=user.name.first).input.input-xl.input-faded
						.col-sm-6: input(type='text', name='name.last' value=user.name.last).input.input-xl.input-faded
				.form-group
					label.input-label Email
					input(type='email', name='email' value=user.email).input.input-labelled.input-faded
				.row
					.col-sm-6
						.form-group
							label.input-label Twitter
							input(type='text', name='twitter' value=user.twitter).input.input-labelled.input-faded
					.col-sm-6
						.form-group
							label.input-label Github
							input(type='text', name='github' value=user.github).input.input-labelled.input-faded
	
	
	//- NEXT MEETUP
	.section.section-next-meetup
		.container
			.row
				.col-sm-6
					if meetups.next
						.meetup-calendar.calendar
							.calendar__header=meetups.next._.date.format('MMM')
							.calendar__body
								.calendar__date=meetups.next._.date.format('DD')
								.calendar__year=meetups.next._.date.format('YYYY')
						.meetup-content
								.text-muted=meetups.next._.date.format('dddd Do MMM YYYY')
								h2.mt-0=meetups.next.name
								//- h4=meetups.next.name
								p!=meetups.next.description
								p.btn-group.btn-group-justified(data-toggle='buttons')
									label.btn.btn-default.js-rsvp-attending
										input(type='radio', name='rsvp', id='rsvp-attending')
										|  Coming
									label.btn.btn-default.js-rsvp-decline
										input(type='radio', name='rsvp', id='rsvp-decline')
										|  Not Coming
					else
						h2.mt-0 No upcoming meetups...
						p Follow us on Twitter to find out when we anounce the next meetup
						p: a(href="https://twitter.com/sydjs", class="twitter-follow-button", data-show-count="true") Follow @sydjs
					
				.col-sm-6	
					h2.mt-0 Meetups I've been to
					if meetups.past.length
						ol
							each attendedMU in meetups.past
								li=attendedMU.name
					else
						p You haven't been to any meetups yet...
	
	
	//- PUBLIC INFO FORM
	.section.section-public-form
		.container
			.row
				.col-sm-8.col-sm-offset-2
					form(method='post').form-horizontal
						h2.h1.text-center.mt-0 Public info
						.form-group
							.col-sm-10.col-sm-offset-2
								label.checkbox
									input(type='checkbox', name='isPublic')
									|  Show my profile on the SydJS website
						.form-group
							label.col-sm-2.control-label Website
							.col-sm-10
								input(type='text', name='website', value=user.website).form-control
						.form-group
							label.col-sm-2.control-label Bio
							.col-sm-10
								textarea(name='bio').form-control=user.bio
						.form-group
							label.col-sm-2.control-label Mentoring
							.col-sm-10
								label.checkbox
									input(type='checkbox', name='mentoring.available')
									|  Available as a mentor
								label.checkbox
									input(type='checkbox', name='mentoring.free')
									|  For Free
								label.checkbox
									input(type='checkbox', name='mentoring.paid')
									|  For Payment
								label.checkbox
									input(type='checkbox', name='mentoring.swap')
									|  For Swap
								label.checkbox
									input(type='text', name='mentoring.have', placeholder='Has...').form-control
								label.checkbox
									input(type='text', name='mentoring.want', placeholder='Wants...').form-control
						.form-group
							.col-sm-10.col-sm-offset-2
								button(type='submit', data-loading-text="Saving...").btn.btn-primary Save changes
				.col-sm-4
block js
	script(src='/js/lib/bootstrap/button.js')<a href="https://twitter.com/twitterapi" class="twitter-follow-button" data-show-count="false" data-lang="en">Follow @twitterapi</a>
	// twitter
	script.
		!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
	// attending
	script.
		jQuery(function($) {
			$('.js-rsvp-attending').click( function() {
				$(this).addClass('btn-success');
				$(this).siblings().removeClass('btn-danger');
			});
			$('.js-rsvp-decline').click( function() {
				$(this).addClass('btn-danger');
				$(this).siblings().removeClass('btn-success');
			});
		});
